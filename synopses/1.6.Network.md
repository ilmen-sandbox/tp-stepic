# Что происходит при HTTP запросе?

1. Браузер парсит URL (примем его за абсолютный для простоты), извлекаем имя хоста (домен), протокол (http, https)
2. Используя DNS преобразуем имя хоста (домен) в IP-адрес web-сервера
3. Устанавливаем TCP соединение с web-сервером
  1. Если используется HTTPs - устанавливаем TLS соединение (шифрованное и защищенное) поверх TCP
4. Формируем HTTP-запрос, отправляем его web-серверу, получаем документ-ответ
5. Пусть браузер закрывает соединение **(это для HTTP/1.0)**
6. Браузер загружает связанные ресурсы
  
## Стек сетевых протоколов
*Указаны не все уровни стека*
![stack](https://github.com/ilmen/tp-stepic/blob/master/lesson-5/pictures/stack.png "стек сетевых протоколов")

* HTTPs+TLS: реализовано в userspace (браузер/web-сервер)
* TCP+IP: реализовано в ОС клиента/сервера

Запрос от браузера проходит по всем уровням стека на клиенской машине, передаются на сервер, на стороне сервера сообщение "поднимаются" по стеку вверх.

Т.е. передача по HTTP(s) - это передача сообщения на самом нижнем уровне, по с включением в стек уровней TLS и HTTP(s) (TLS использутся только при использовании HTTPs).

## DNS
**DNS** (Domain Name System) - это *распределенная база данных*, хранящая информацию о доменах, в первую очередь отображение доменных имен на IP адреса машин, обслуживающих эти домены.
###Пространство доменных имен
**Пространство доменных имен** - строки, состоящие из слов, разделенных точками.
![dns-struct](https://github.com/ilmen/tp-stepic/blob/master/lesson-5/pictures/domains.png "Пространство доменных имен")

Домены образуют древовидную структуру.

Например *wikipedia*: ru.wikipedia.org.

Домен нуливого уровня: .

  *Обычно не указывается в URL*

Домены первого уровня: ru, en, org, edu, ...

  Практически статичное множество, например **ru** - Россия, **org** - организации, **edu** - образование)
  
Домены второго уровня: yandex, stepic, mail, wikipedia, ...

  Примерно соответствуют организациям
  
