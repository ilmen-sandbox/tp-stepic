# Что происходит при HTTP запросе?

  1. Браузер парсит URL (примем его за абсолютный для простоты), извлекаем имя хоста (домен), протокол (http, https)
  2. Используя DNS преобразуем имя хоста (домен) в IP-адрес web-сервера
  3. Устанавливаем TCP соединение с web-сервером
    1. Если используется HTTPs - устанавливаем TLS соединение (шифрованное и защищенное) поверх TCP
  4. Формируем HTTP-запрос, отправляем его web-серверу, получаем документ-ответ
  5. Пусть браузер закрывает соединение **(это для HTTP/1.0)**
  6. Браузер загружает связанные ресурсы
  
## Стек сетевых протоколов
  *Указаны не все уровни стека*
  ![stack](https://github.com/ilmen/tp-stepic/blob/master/lesson-5/pictures/stack.png "стек сетевых протоколов")
  
  * HTTPs+TLS: реализовано в userspace (браузер/web-сервер)
  * TCP+IP: реализовано в ОС клиента/сервера
  
  Запрос от браузера проходит по всем уровням стека на клиенской машине, передаются на сервер, на стороне сервера сообщение "поднимаются" по стеку вверх.
  Т.е. передача по HTTP(s) - это передача сообщения на самом нижнем уровне, по с включением в стек уровней TLS и HTTP(s) (TLS использутся только при использовании HTTPs).
